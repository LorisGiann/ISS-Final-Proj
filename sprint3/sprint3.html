<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <!--
<link rel="stylesheet" type="text/css" href="../css/issStyle1.css">
<script type="text/javascript" src="../css/issStyle.js"></script>
-->
<link rel="stylesheet" type="text/css" href="../docs_common/defaultTemplateStyle.css">
<style>
code>pre { 
    font-family: monospace;
}
dd{
    margin-bottom: 7px;
}
.todo{
    color: orange
}
.centerimg{
    display: block;
    padding-top: 8px;
    padding-bottom: 8px;
    margin-left: auto;
    margin-right: auto;
    width: 90%;
    max-width: 800px;
}
p { margin: 4px 0px; }
dd{ margin-bottom: 8px;}
.newDictWord{ color : purple; }
h6{
    font-size: 1em;
    margin: 18px 0px 9px 0px;
}
</style>
<head><title>WasteService SPRINT3</title></head>
    
<body>
<div id="top">
<h1>ISS FINAL PROJECT </h1>
</div>  

<div class="body"> 
<h2>Introduction</h2>
<div class="remark">
    <p>Progetto finale di ISS, che consiste in un impianto di smistamento dei rifiuti nel quale un robot deve trasportare il materiale dal camion al relativo container</p>
</div>

<h2>Requirements</h2>
<div class="remark">
    <a href="../docs_prof/html/TemaFinale22.html">Link alla pagina dei requisiti del committente</a> <br>
    <a href="../sprint0/sprint0.html#Requirements">Requisiti sprint0</a>
</div>

<h2>Requirement analysis</h2>
<div class="remark">
    
</div>

<A NAME="ScrumGoalWorkPlan"></A>
<h2>Scrum Goal and Work Plan</h2>
<div class="remark">
    <h4>Scrum goal:</h4>
    <p>Obiettivo dello SPRINT3 è l'estensione della demo dello <a href="../sprint2/sprint2.html">SPRINT2</a> per realizzare il requisito riguardante la <b>WasteServiceStatusGUI</b> specificato 
        dal committente al punto 3.</p>
    <h4>Piano di lavoro:</h4>
    <ul>
        <li>Analisi del problema riguardo la tipologia di GUI da implementare</li>
        <li>Analisi del problema riguardo il passaggio di informazioni alla GUI</li>
        <li>Sviluppo / adattamento dei componenti necessari</li>
        <li>Realizzazione di un modello eseguibile (a tal proposito verrà utilizzato il metamodello <a href="../docs_common/Qak.html">QAK</a>).</li>
        <li>Realizzazione di un (più completo) test-plan per il modello</li>
    </ul>
</div>

<!--PROBLEM ANALYSIS-->
<A NAME="ProblemAnalysis"></A>
<h2>Problem analysis</h2>
<div class="remark">
    <h6><b>Architettura logica precedente:</b></h6>
    <img class="centerimg" style="max-width: 1300px;" src="../sprint2/QakSprint2/demo0arch.png"/>
    <p style="width: 100%; text-align: right;"><a href="../docs_common/Legenda.html">Legenda</a></p>
    <br>

    <h3><b>GUI</b></h3>

    <h4>Che informazioni necessita la GUI?</h4>
    <p>La <b>WasteServiceStatusGUI</b> deve avere, per il committente, la possibilità di visualizzare le seguenti informazioni:</p>
    <ul>
        <li>Lo stato corrente del <b>transporttrolley</b></li>
        <li>La posizione corrente del <b>transporttrolley</b> nella stanza</li>
        <li>Lo stato corrente del <b>led</b></li>
        <li>Il peso corrente immagazzinato all'interno della <b>plasticbox</b> e della <b>glassbox</b></li>
    </ul>
    <p>Analizzando il problema risulta necessario un attore in grado di poter ottenere queste informazioni e riuscirle poi a mostrare in una <b>gui</b>.<br>
    Viene quindi definito un attore <b>servergui</b> che, mediante <b>coap</b>, estrapolerà le informazioni necessarie.<br>
    La scelta dell'utilizzo di Coap risulta particolarmente comoda avendo gli attori che già dagli sprint precedenti riferiscono le informazioni richieste per la Gui.</p>
    <code><pre>Dispatch coapUpdate: coapUpdate(RESOURCE, VALUE)</pre></code><br>
    
    <p>In particolare viene definito un attore <b>transporttrolleystate</b> che ha il compito di osservare gli attori transporttrolley,basicrobotwrapper e pickupdropouthandler per poi definire e aggiornare lo stato del transporttrolley</p>
    <code><pre>observeResource transporttrolley
observeResource basicrobotwrapper
observeResource pickupdropouthandler</pre></code>



    <div class="remark" style="background-color: #c3fbe8;">
        <h3>Riassunto situazione attuale:</h3>
        <h6>Architettura logica:</h6>
        <img class="centerimg" style="max-width: 1200px;" src="ProblemQakSprint3/demosystemarchitecturearch.png"/>
        <p style="width: 100%; text-align: right;"><a href="../docs_common/Legenda.html">Legenda</a></p>
        <h6>QAK</h6>
        <a href="ProblemQakSprint3/src/Prototype/SystemAchitecture.qak">Modello del sistema QAK</a> <br>
        <h6><p>Testplan <small>(non ancora eseguibili)</small>:</p></h6>
        <p><a href="ProblemQakSprint3/test/testSprint3/TestSprint3_transporttrolleystate.kt">TestSprint3_transporttrolleystate.kt</a> <br>
    </div>

</div>
    


<h2>Project</h2>
<div class="remark">
    <p>Procediamo con lo sviluppo vero e proprio dei componenti. Essi sono tutti presenti nel <a href="QakSprint3/src/Prototype/demo0.qak">file QAK di questo sprint</a>, ma vengono qui 
        riportate e spiegate le macchine a stati che li implementano.</p>

        <p>Analizzando il problema, possiamo constatare che la GUI potrebbe esseere realizzata nei seguenti modi:</p>
        <ul>
            <li>Come <b>applicazione web</b></li>
            <li>Come <b>applicazione desktop</b></li>
        </ul>
        Questo comporta quindi l'utilizzo di un <b>alieno</b><br>
        È stato scelto di implementare l'applicazione web, rispetto che a quella desktop, per avere una maggiore flessibilità e facilità di accesso alla <b>WasteServiceStatusGUI</b> da parte del Service-manager senza dover installare nel dispositivo l'applicazione richiesta.
        
        <h4>In che modo vengono passate le informazioni alla GUI?</h4>
        
        <p>Analizzando il problema, avendo scelto in precedenza di implementare una applicazione web, la comunicazione può essere realizzata tramite l'utilizzato di Coap, già utilizzato in precendeza.<br>
           In questo modo la web application osserverà i vari attori del sistema e aggiornerà di conseguenza la Gui.<br>
        </p>

        <h4>Web robot</h4>
        <p>L'implementazione dell'alieno webRobot è stata effettuata mediante l'utilizzo di <b>SpringBoot</b>, essendo adatto all'implementazione rapida di applicazioni web.<br>
           Il sistema riceve le informazioni mediante l'utilizzo di Coap per poi comunicare, dal back-end al front-end, mediante l'utilizzo di una <b>websocket</b>.</br>
           Le informazioni osservate tramite Coap vengono utilizzate per aggiornare, tramite l'utilizzo di un bean, i dati visuallati nella console gui.
        </p>
        <img class="centerimg" style="max-width: 1300px;" src="docs/_images/consolegui.png"/>

        <h3>Riassunto situazione attuale:</h3>
        <h6>Architettura logica:</h6>
        <img class="centerimg" style="max-width: 1300px;" src="docs/_images/demo0arch.png"/>
        <p style="width: 100%; text-align: right;"><a href="../docs_common/Legenda.html">Legenda</a></p>


        <h4>problematiche</h4>
        <p>È stato notato, testando il sistema, di come le informazioni Coap non sempre riuscissero ad essere correttamente visualizzate.<br>
        Per fare fronte a questo problema è stato fatto, in maniera iterativa, una nuova analisi del problema per riuscire a risolvere questa problematica.</p>
</div>

<h2>Problem analysis</h2>
<div class="remark">

</div>

<h2>Project</h2>
<div class="remark">
    <p>È stato necessario implementare un ulteriore attore, chiamato <b>coapdispatcher</b> che ha il compito di </p><br>

    <div class="remark" style="background-color: #c3fbe8;">
        <h3>Test funzionamento progetto:</h3>
        <video width="1080" class="centerimg" controls>
            <source src="docs/_video/test_working.mp4" type="video/mp4">
        </video>
    </div>
</div>

<h2>Test plans</h2>
<div class="remark">
    <h4><p>Test effettuati:</p></h4>
    <ul>
        <h6>Classe di test TestSprint3_integration_transporttrolleystate.kt:</h6>
        <p>Classe per testare il sistema, in particolare per verificare il funzionamento dell'attore transporttrolleystate</p>
        <li><u>test_accepted()</u>: Il robot viene interrotto durante una move forward, durante una turn, durante una <b>Pickup</b> e una <b>Dropout</b>.
            Si controlla che gli stati delle varie macchine assumano i valori che si si aspetti</li>
      
    </ul>
</div>

<div class="remark" style="background-color: #c3fbe8;">
    <h3>Riassunto situazione attuale:</h3>
    <h6>Architettura logica:</h6>
    <img class="centerimg" style="max-width: 1300px;" src="QakSprint3/demo0arch.png"/>
    <p style="width: 100%; text-align: right;"><a href="../docs_common/Legenda.html">Legenda</a></p>

    <h6>QAK</h6>
    <a href="QakSprint2/src/Prototype/demo0.qak">Metamodello eseguibile QAK</a>
    <h6><p>Testplan:</p></h6>
    <p><a href="QakSprint3/test/testSprint3/TestSprint3_integration_transporttrolleystate.kt">TestSprint3_integration_transporttrolleystate.kt</a> <br>
</div>
 
<!-- USEFUL
<table style="width:100%" border="1">
<tr>
<td style="width:50%">
</td>
<td></td>
</tr>
</table>
-->
	      	
<br/><br/> 	
</div>  

<div style="background-color:rgba(86, 56, 253, 0.9); width:100%;text-align:left;color:white">
    <table style="border: 0px solid transparent; margin: 0 auto;">
        <tr>
            <td>
                <p style="font-weight: bold;">Loris Giannatempo <br>
                Email: loris.giannatempo@studio.unibo.it</p>
                <img class="centerimg" src="../docs_common/lorisgiannatempo.jpg" style="width: 30%; height: 30%; border: 0px">
            </td>
            <td>
                <p style="font-weight: bold;">Davide Guidetti <br>
                Email: davide.guidetti3@studio.unibo.it</p>
                <img class="centerimg" src="../docs_common/davideguidetti.jpg" style="width: 30%; height: 30%; border: 0px">
            </td>
        </tr>
    </table>
</div> 
</body>
</html>